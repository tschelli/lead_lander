# ============================================================================
# DATABASE & CACHE
# ============================================================================

DATABASE_URL=postgres://lead_lander:lead_lander@localhost:5432/lead_lander
REDIS_URL=redis://localhost:6379

# ============================================================================
# API CONFIGURATION
# ============================================================================

# API port
PORT=4000

# Rate limiting
RATE_LIMIT_MAX=30
RATE_LIMIT_WINDOW_MS=60000

# Trust proxy (set to 1 for single proxy, 2 for CloudFront → ALB → ECS)
TRUST_PROXY=

# Honeypot field for spam detection
HONEYPOT_FIELD=website

# ============================================================================
# WORKER CONFIGURATION
# ============================================================================

WORKER_PORT=5005
DELIVERY_QUEUE_NAME=lead_delivery
DELIVERY_MAX_ATTEMPTS=5
DELIVERY_BACKOFF_MS=10000
ADAPTER_TIMEOUT_MS=10000

# ============================================================================
# CRM INTEGRATION
# ============================================================================

# CRM webhook authentication token
CRM_WEBHOOK_TOKEN=change-me

# ============================================================================
# EMAIL NOTIFICATIONS (Optional)
# ============================================================================

EMAIL_ENABLED=false
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@lead-lander.local

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================

# Base URL for API calls from frontend
NEXT_PUBLIC_API_BASE_URL=http://localhost:4000

# Admin dashboard API configuration
ADMIN_API_BASE_URL=http://localhost:4000
ADMIN_API_PROXY_TARGET=http://localhost:4000

# ============================================================================
# AUTHENTICATION
# ============================================================================

# Cookie settings for admin authentication
AUTH_COOKIE_DOMAIN=
AUTH_COOKIE_SAMESITE=lax

# ============================================================================
# CONFIGURATION (Legacy - now database-driven)
# ============================================================================

# Config directory (legacy support only)
CONFIG_DIR=../../configs
CONFIG_CACHE_TTL_SECONDS=60

# ============================================================================
# CORS CONFIGURATION (Production)
# ============================================================================

# Comma-separated list of allowed origins
# Examples:
#   - https://example.com
#   - *.example.com (wildcard subdomain)
#   - * (allow all - not recommended for production)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ============================================================================
# REMOVED IN v2 (Account-based Architecture)
# ============================================================================

# These environment variables are NO LONGER NEEDED:
# - NEXT_PUBLIC_SCHOOL_ID (removed - multi-tenant by default)
# - NEXT_PUBLIC_CLIENT_ID (removed - multi-tenant by default)
# - NEXT_PUBLIC_LANDING_BASE_URL (removed - not needed)
#
# The application now serves all accounts from a single deployment.
# Configuration is stored in the database, not environment variables.
